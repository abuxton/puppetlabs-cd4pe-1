{
  "description": "Adds a deployment to a pipeline stage to a module repository in a Continuous Delivery for PE workspace.",
  "parameters": {
    "email": {
      "type": "String[1]",
      "description": "The email address associated with the Continuous Delivery for PE login."
    },
    "password": {
      "type": "String[1]",
      "sensitive": true,
      "description": "The password associated with the account."
    },
    "workspace": {
      "type": "String[1]",
      "description": "Designates the workspace that the repo and pipeline are associated with."
    },
    "repo_name": {
      "type": "String[1]",
      "description": "The name used for the repo in Continuous Delivery for PE."
    },
    "repo_type": {
      "type": "Enum['module']",
      "description": "The type of repository. Currently only supports module repositories."
    },
    "branch_name": {
      "type": "String[1]",
      "description": "The branch name to identify the pipeline to add a stage to."
    },
    "pe_creds_name": {
      "type": "String[1]",
      "description": "The name of the PE credentials associated with the deployment."
    },
    "node_group_name": {
      "type": "String[1]",
      "description": "The name of the node group to use for the deployment."
    },
    "stage_name": {
      "type": "String[1]",
      "description": "The name of the stage that the job should be added to. The stage will be created if it doesn't exist."
    },
    "add_stage_after": {
      "type": "Optional[String[1]]",
      "description": "Optional. The name of the stage that comes before the desired position of the newly created stage. If not specified then the stage will be added to the end of the pipeline. Only applies if the stage doesn't exist."
    },
    "autopromote": {
      "type": "Optional[Boolean]",
      "description": "Optional. A Boolean to indicate whether or not changes should be auto-promoted through this stage. The default value is false. If set, will update the existing settings on a stage."
    },
    "trigger_condition": {
      "type": "Optional[Enum['AllSuccess', 'AllComplete', 'AnySuccess', 'AnyComplete']]",
      "description": "Optional. The condition on which changes will promote to the next stage. This parameter is only applicable if 'autopromote' is set to true."
    },
    "resolvable_hostname": {
      "type": "Optional[String[1]]",
      "description": "Optional. A resolvable internet address where the Continuous Delivery for PE server can be reached. Required only if the agent certificate is not the machine's resolvable internet address."
    },
    "web_ui_endpoint": {
      "type": "Optional[String[1]]",
      "description": "Optional. The endpoint where the web UI can be reached, in the form http://<resolvable_hostname>:<port>. Required if you set the web_ui_port parameter in the cd4pe class during installation."
    }
  },
  "files": [
    "cd4pe/lib/puppet_x/puppetlabs/cd4pe_client.rb",
    "cd4pe/lib/puppet_x/puppetlabs/cd4pe_pipeline_utils.rb"
  ],

  "input_method": "stdin"
}
